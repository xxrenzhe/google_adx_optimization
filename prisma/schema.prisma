generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model AdReport {
  id                  String     @id @default(cuid())
  sessionId           String
  uploadDate          DateTime   @default(now())
  dataDate            DateTime
  website             String
  country             String?
  adFormat            String?
  adUnit              String?
  advertiser          String?
  domain              String?
  device              String?
  browser             String?
  requests            BigInt?
  impressions         BigInt?
  clicks              BigInt?
  ctr                 Float?
  ecpm                Float?
  revenue             Float?
  viewableImpressions BigInt?
  viewabilityRate     Float?
  measurableImpressions BigInt?
  fillRate            Float?
  arpu                Float?

  @@index([sessionId, id])
  @@index([sessionId, dataDate])
  @@index([sessionId, country])
  @@index([dataDate])
  @@index([website])
  @@index([country])
  @@index([dataDate, website])
  @@index([dataDate, country])
  @@index([website, country])
  @@index([device])
  @@index([adFormat])
  @@index([fillRate])
}